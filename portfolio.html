<!doctype html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <title>Portfolio — Victor Kosgei</title>
  <link rel='stylesheet' href='style.css'>
</head>
<body>
<header class="site-header">
  <div class="container header-inner">
    <nav>
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="services.html">Services</a>
      <a href="portfolio.html" class="active">Portfolio</a>
      <a href="hire.html">Hire Me</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</header>

<main class="container">
  <section>
    <h2>Portfolio</h2>
    <div class="grid" id="projects">
      <!-- ✅ Django API will inject projects here -->
    </div>
  </section>
</main>

<footer class="site-footer">
  <div class="container">
    <div style="margin-bottom:10px">
      Connect: 
      <a href="https://wa.me/254712859814" target="_blank">WhatsApp</a> 
      <a href="https://www.linkedin.com/in/victor-kosgei-03839b339" target="_blank">LinkedIn</a> 
      <a href="https://github.com/kimkosva" target="_blank">GitHub</a>
    </div>
    <div>&copy; 2025 Victor Kosgei — Virtual Assistant & Data Analyst</div>
  </div>
</footer>

<!-- ✅ Script to load projects dynamically -->
<script>
  async function loadProjects() {
    try {
      let response = await fetch("https://django-backend-qnxk.onrender.com"); 
      let projects = await response.json();

      let container = document.getElementById("projects");
      container.innerHTML = "";

      projects.forEach(p => {
        container.innerHTML += `
          <div class="card">
            <h3>${p.title}</h3>
            <p>${p.description}</p>
            ${p.link ? `<a href="${p.link}" target="_blank">View Project</a>` : ""}
          </div>
        `;
      });
    } catch (error) {
      console.error("Error loading projects:", error);
    }
  }

  window.onload = loadProjects;
</script>

</body>
</html>
